<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© - Ø§Ù„Ø£Ø³Ù‡Ù… Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© AI</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <style>
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            padding: 20px;
        }
    </style>
</head>

<body>
    <h1 style="text-align:center; padding:20px;">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª</h1>
    <div style="text-align:center;">
        <a href="/live" style="color:var(--accent-gold); font-size:1.2rem;">ðŸ”´ Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„Ø¨Ø« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±</a>
    </div>
    <div class="dashboard-grid" id="grid">
        <!-- populated by JS -->
    </div>

    <script>
        // Fetch and display simplified cards for all portfolios
        async function loadDashboard() {
            const res = await fetch('/api/live_data');
            const data = await res.json();
            const grid = document.getElementById('grid');

            grid.innerHTML = data.leaderboard.map(p => `
                <div class="trade-card">
                    <div>
                        <h3>${p.name}</h3>
                        <div class="mono" style="font-size:1.5rem; color:${p.return >= 0 ? 'var(--accent-green)' : 'var(--accent-red)'}">
                            ${p.return.toFixed(2)}%
                        </div>
                    </div>
                    <div>
                        <div style="font-size:0.8rem; color:#888;">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</div>
                        <div class="mono">${p.value.toFixed(0)}</div>
                    </div>
                </div>
            `).join('');
        }
        loadDashboard();
    </script>
</body>

</html>